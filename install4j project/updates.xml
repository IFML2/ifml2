<?xml version="1.0" encoding="UTF-8"?>
<updateDescriptor baseUrl="">
  <entry targetMediaFileId="29" updatableVersionMin="" updatableVersionMax="" fileName="IFML2_2015_1_4_20151117_185951.exe" newVersion="2015/1.4" newMediaFileId="29" fileSize="2140672" bundledJre="" archive="false">
    <comment language="ru">﻿ЯРИЛ 2.0 Заметки к выпускам&#xD;
==========================================================================&#xD;
Обозначения:&#xD;
--------------------------------------------------------------------------&#xD;
+	добавление&#xD;
^   улучшение&#xD;
~	изменение&#xD;
*	исправление&#xD;
!	информация&#xD;
==========================================================================&#xD;
Issue trackers:&#xD;
https://www.hostedredmine.com/projects/ifml2/issues&#xD;
http://ifml2.myjetbrains.com/youtrack&#xD;
==========================================================================&#xD;
&#xD;
-------------------------------------------------&#xD;
Выпуск 2015/1.4&#xD;
-------------------------------------------------&#xD;
01.11.2015&#xD;
    456077 [КРИЛ2015] Процедура обработки ошибок парсера&#xD;
    +   [Движок] Добавлена системная процедура обработки ошибки парсинга и возможность её перекрывать пользовательской.&#xD;
12.11.2015&#xD;
    456077 [КРИЛ2015] Процедура обработки ошибок парсера&#xD;
    *   [Движок] Исправлена ошибка, при которой не выводилась ошибка парсинга, если процедура обработки не перекрывалась.&#xD;
13.11.2015&#xD;
    456077 [КРИЛ2015] Процедура обработки ошибок парсера&#xD;
    +   [Редактор] Добавлен пункт меню "История -&gt; Перехваты системных процедур...". Но пока не полностью доработана форма редактора.&#xD;
17.11.2015&#xD;
    456077 [КРИЛ2015] Процедура обработки ошибок парсера&#xD;
    +   [Редактор] Форма редактора полностью доработана.&#xD;
    +   [Редактор] Редактирование инструкции "Вернуть значение".&#xD;
&#xD;
-------------------------------------------------&#xD;
Выпуск 2015/1.3&#xD;
-------------------------------------------------&#xD;
12.06.2015&#xD;
    435156 Не работают два объекта подряд в одном падеже&#xD;
    *   [Парсер] Изменён алгоритм подбора слов для объекта в шаблоне - теперь они пытаются подобраться рекурсивно, пока это получается.&#xD;
16.07.2015&#xD;
    435156 Не работают два объекта подряд в одном падеже&#xD;
    *   [Парсер] Теперь если при подборе слова для объекта попадается такое же слово, то считается, что оно (и все слова от первого&#xD;
        повторяющегося слова до второго) относится к другому элементу шаблона. Т.е. при анализе фразы "положить в тарелку розовую тарелку"&#xD;
        при встрече второй "тарелки" парсер решит, что слова "розовую тарелку" относятся к другому объекту (элементу шаблона).&#xD;
&#xD;
-------------------------------------------------&#xD;
Выпуск 2015/1.2&#xD;
-------------------------------------------------&#xD;
19.04.2015&#xD;
    *   [Движок] Bug #420341 Криво прописывается библиотека: обёрнуто получение относительного пути для библиотеки - перед сравнением они&#xD;
        преорбазуются в нижний регистр&#xD;
23.04.2015&#xD;
    425212 Неверно работает сохранение&#xD;
    ^   Рефакторинг: уменьшена зависимость Parser от других классов.&#xD;
    *   Добавлена очистка данных при инициализации игры в Движке и Виртуальной машине - стал правильно работать перезапуск игры.&#xD;
    *   Исправлена ошибка загрузки сохранения, из-за которой предметы вместо перемещения копировались. В лог выводится ошибка, если&#xD;
        контейнер, привязанный к предмету, его не содержит.&#xD;
&#xD;
-------------------------------------------------&#xD;
Выпуск 2015/1.1&#xD;
-------------------------------------------------&#xD;
11.04.2015&#xD;
    * [Библиотеки] Bug #417504 "А также тут" в Комсомольце&#xD;
    * [Поставка] Bug #418941 Вместе с игрой лежит тест на тайны заброшенного замка, но самой игры вроде как нет: убран тест&#xD;
&#xD;
-------------------------------------------------&#xD;
Выпуск 2015/1&#xD;
-------------------------------------------------&#xD;
19.01.2015&#xD;
    279604 [Замечание #8-1] Инструкция "Выполнить процедуру"&#xD;
    +   [Движок] Добавлена инструкция "Выполнить процедуру" - пока на уровне ядра, поддержки в Редакторе ещё нет.&#xD;
        Поддерживает передачу параметров и возврат значения.&#xD;
04.02.2015&#xD;
    279604 [Замечание #8-1] Инструкция "Выполнить процедуру"&#xD;
    *   [Движок] Исправлен механизм выполнения инструкций, исправлены ошибки.&#xD;
    +   [Редактор] Поддержка инструкции "Выполнить процедуру".&#xD;
    +   [Движок] Новая отладочный символ "глобальные" - выводит список глобальных переменных. Вызвать в Плеере через команду&#xD;
        "?глобальные".&#xD;
    ~   [Движок] Глобальные и процедурные переменные теперь устанавливаются напрямую при выполнении инструкции,&#xD;
        а не сохраняются в контексте.&#xD;
13.03.2015&#xD;
    Task #402306 Значение пустота (NullValue)&#xD;
    +   [Движок] Новый особый тип данных - Пустота. Существует только одно значение этого типа - Пустота.&#xD;
    +   [Движок] Новая системная константа - "пустота", равна Пустоте.&#xD;
    +   [Движок] Любое значение можно сравнивать с Пустой: если значение тоже Пустота, то будет положительный результат,&#xD;
        иначе отрицательный.&#xD;
    ~   [Движок] При вызове процедуры все незаданные параметры принимают значение Пустота.&#xD;
17.03.2015&#xD;
    Bug #382635 [Джон-03] Ошибка с контейнерами&#xD;
    *   [Библиотеки] Исправлено действие "Положить": теперь нельзя класть предметы в закрытый контейнер.&#xD;
    *   [Игры] Исправлен словарь в Зорке.&#xD;
19.03.2015&#xD;
    Ifml-8 Ошибка с переходом в локацию, если не указана начальная локация&#xD;
    ~   [Движок] Изменена логика установки стартовой локации:&#xD;
        1. Если есть проца, выполняется она.&#xD;
        2. Если указана стартовая локация, она устанавливается.&#xD;
            2.1. Если стоит галочка вывода описания, оно выводится.&#xD;
        3. Если до сих пор не установлена никакая локация, устанавливается любая, но без вывода описания.&#xD;
    *   [Редактор] Теперь можно отменить выбор стартовой локации (теперь есть пустой элемент в выпадающем списке).&#xD;
    ^   [Редактор] Редактор глобальных переменных переехал на новый редактор списков.&#xD;
&#xD;
-------------------------------------------------&#xD;
Версия 2014.12&#xD;
-------------------------------------------------&#xD;
29.12.2014&#xD;
    *   [Редактор] Добавлена валидация процедур: имя не должно быть пустым и не должно совпадать с существущей в истории процедурой.&#xD;
30.12.2014&#xD;
    *   [Редактор] Исправлена ошибка, внесённая предыдущим исправлением. :) Теперь процедуру можно отредактировать и сохранить под своим&#xD;
        именем.&#xD;
&#xD;
-------------------------------------------------&#xD;
Прототип 10 выпуск 5 правка 4 (2014)&#xD;
-------------------------------------------------&#xD;
10.03.2014&#xD;
    +   Роль "надеваемое": теперь предметы можно надевать на себя и снимать&#xD;
        Ограничения:&#xD;
            нельзя надеть: ненадеваемое; то, что уже надето; то, что не в инвентаре.&#xD;
            надетый предмет: нельзя взять (пока кроме "взять всё")&#xD;
        Надетость отражается при осмотре предмета (как, например, открытость).&#xD;
        При выбрасывании надетый предмет снимается автоматически.&#xD;
16.03.2014&#xD;
    +   Переработана утилита по заливке данных в библиотеки.&#xD;
02.04.2014&#xD;
    ifml2-287221 диалоговые фильтры библиотек&#xD;
    +   Редактор списка используемых библиотек переделан на транзакционный (изменения можно принять или отменить); оформление кнопок&#xD;
        вынесено в форму для наглядности, а действия создаются по кнопкам&#xD;
    *   В диалог выбора файла библиотеки исправлен фильтр и добавлены иконки&#xD;
    ~   Запрет добавления повторяющихся библиотек&#xD;
09.04.2014&#xD;
    *   Исправлена ошибка, из-за которой не подгружались роли.&#xD;
    *   Исправлена ошибка, из-за которой при попытке редактировать инструкцию "Установить значение свойства" вываливалась здоровенная&#xD;
        ошибка.&#xD;
10.04.2014&#xD;
    +   [Внутреннее] Добавлен класс ButtonAction для автоматизации создания действий на кнопках и повышения наглядности кнопок в интерфейсе.&#xD;
        На кнопки локаций повешены иконки для наглядности, их действия превращены в ButtonAction.&#xD;
    +   [Редактор] Главное окно переделано: добавлены закладки "Локации и предметы" и "Процедуры и действия". Вторая пока пустая.&#xD;
    +   [Редактор] Ошибки сохранени истории переведены на большое окно.&#xD;
01.09.2014&#xD;
    ~   [Внутреннее] Загрузка локаций теперь осуществляется по новому методу.&#xD;
    +   [Редактор] Поддержка редактирования всех направлений: к обычным С, В, Ю, З добавились ещё СВ, ЮВ, ЮЗ, СЗ, Вверх, Вниз.&#xD;
10.09.2014&#xD;
    ~   [Редактор] Редактирование процедур и действий перенесено из главного меню во вкладку в главном окне.&#xD;
    +   [Редактор] Редактирование процедур теперь транзакционное - т.е. отменяется при нажатии кнопки "Отмена".&#xD;
    +   [Редактор] При редактированиие процедур можно редактировать их параметры.&#xD;
12.09.2014&#xD;
    ^   [Редактор] При удалении процедуры осуществляются проверки, используется ли она где-то. Если используется в действиях, то удалять&#xD;
        не разрешается. Если как стартовая процедура - то запрашивается подтверждение на удаление.&#xD;
15.09.2014&#xD;
    *   [Редактор] Исправлена ошибка, из-за которой при двойном щелчке на список окно редактора открывалось 2 (и более) раз.&#xD;
    *   [Редактор] Исправлена ошибка, из-за которой при редактировании процедур и действий история не помечалась как не сохранённая.&#xD;
    ^   [Редактор] Локации, процедуры и инструкции в процедурах теперь можно менять местами (передвигать по списку.)&#xD;
16.09.2014&#xD;
    ^   [Редактор] Редактор списка предметов приведён к общему виду (передвижение по списку, пометка истории как несохранённой,&#xD;
        двойной щелчок, контекстное меню).&#xD;
22.09.2014&#xD;
    +   [Платформа] В стандартную поставку платформы добавлена игра "Руслан и Людмила" Андрея Репина, занявшая 35ое место в КРИЛ-2013.&#xD;
09.11.2014&#xD;
    *   [Редактор] Теперь после добавления действия оно появляется в выборе действий в перехвате сразу, если подходит под условия&#xD;
        (для локаций - все действия, для предметов - при наличие хотя бы одного объектного параметра).&#xD;
11.11.2014&#xD;
    ifml2-358009 [Замечание 12] Нет действий дополнительных направлений&#xD;
    *   [Платформа] Теперь доступны команды переходов по доп. направлениям (св, юв, юз, сз), а также соответствующие систмные свойства&#xD;
        локаций (СевероВосток и проч.).&#xD;
18.11.2014&#xD;
    ifml2-210765 Поддержка навешивания ролей в Редакторе&#xD;
    +   [Редактор] Закончена реализация поддержки навешивания ролей в Редакторе.&#xD;
    *   [Редактор] Исправлено сохранение наполнения ролей при редактировании их в предметах.&#xD;
    *   [Библиотеки] Исправлена процедура "Описать", падающая в ошибку при осмотре предмета с ролью "контейнер", но без роли "открываемый".&#xD;
    *   [Редактор] Скрыта кнопка "Редактировать" для списков коллекций ролей.&#xD;
    *   [Редактор] Теперь в коллекцию роли нельзя добавлять предметы, которые там уже есть, а также предмет, на котором висит роль.&#xD;
24.11.2014&#xD;
    *   [Движок] Исправлена работа инструкции "Переместить предмет", которая перемещала предмет в никуда.&#xD;
    241891 [Замечание #3] Парсер: берётся первый подошедший синоним без учёта, что он не верный&#xD;
    *   [Парсер] Теперь берётся только любой из самых подошедших (по длине) синонимов.&#xD;
    *   [Парсер] Теперь слово объекта (предмета) берётся, если только оно полность подошло, а не частично.&#xD;
&#xD;
-------------------------------------------------&#xD;
Прототип 10 выпуск 5 правка 3 (Хоббит, глава 3)&#xD;
-------------------------------------------------&#xD;
01.12.2013&#xD;
    *   Исправлена ошибка, из-за которой Движок не видел предметы в контейнере, который находился на любом уровне в инвентаре.&#xD;
    *   Исправлена опечатка при выводе списка предметов на поверхности и в контейнере.&#xD;
    +   Оптимизация стандартной библиотеки.&#xD;
    +   Добавлено стандартное действие "закрыть &lt;предмет&gt;", закрывающее открываемые (роль) открытые предметы.&#xD;
    ~   Перенос проверки доступности предметов из Парсера в Движок.&#xD;
02.12.2013&#xD;
    *   Исправления в стандартной библиотеке "Глаголы".&#xD;
11.12.2013:&#xD;
    +   Добавлен признак "тяжёлый". Тяжёлые предметы запрещено брать ("взять" и "взять всё").&#xD;
    +   Запрещено команде "взять всё" брать закреплённые предметы.&#xD;
    *   Исправлена ошибка парсера, приводившая к тому, что на слишком длинные команды давались неадекватные ответы.&#xD;
15.01.2014:&#xD;
    +   Инструкция "Бросить кость" с диапазоном броска (от и до) и именем переменной, куда сохранить результат.&#xD;
&#xD;
-------------------------------------------------&#xD;
Прототип 10 выпуск 5 правка 2 (Хоббит, глава 2)&#xD;
-------------------------------------------------&#xD;
29.11.2013&#xD;
    +   Экспорт зашифрованной истории в Редакторе.&#xD;
    +   Поддержка загрузки зашифрованной истории в Плеере.&#xD;
    ~   Из диалога открытия истории в Плеере убран фильтр "Все файлы".&#xD;
30.11.2013&#xD;
    ~   Из всех диалогов открытия и сохранения убрано расширение .xml.&#xD;
    ~   Файлам историй изменены расширения на .ifml.&#xD;
    +   Добавлен запрет на открытие шифрованных файлов в Редакторе.&#xD;
    +   Добавлена защита от загрузки сохранений игры от других историй.&#xD;
&#xD;
-------------------------------------------------&#xD;
Прототип 10 выпуск 5 правка 1 (Хоббит, глава 1)&#xD;
-------------------------------------------------&#xD;
28.11.2013&#xD;
    +   Некоторые улучшения в стандартной библиотеке "Глаголы" (verbs.xml).&#xD;
    ~   В заголовке Редактора вместо пути к файлу истории теперь только имя файла.&#xD;
    ~   В некоторых ответах парсера винительный падеж заменён на родительный как более правильный по грамматике.&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 5 (Хоббит)&#xD;
---------------------------------------&#xD;
18.11.2013:&#xD;
    ~	Улучшение установки обратной связи Слово - Предмет.&#xD;
    +	Начало работ по сохраненнию игры: главное меню, сохраняются глобальные и системные параменные, инвентарий, предметы в локациях.&#xD;
19.11.2013:&#xD;
    +   Продолжение работ по сохранению игры: восстановление предметов в локациях.&#xD;
23.11.2013:&#xD;
    +   Продолжение работ по сохранению игры: добавлено загрузка игры в меню; игра загружается.&#xD;
        Но пока нельзя загружать сохранение от другой игры - получите ошибку. В дальнейшем будет стоять запрет.&#xD;
24.11.2013:&#xD;
    +   Завершены работы по сохранению игры: сохранение и восстановление предметов в предметах (в свойствах ролей).&#xD;
    ~   Заменены иконки в диалогах сохранения и загрузки на более отличимые.&#xD;
    *   Исправлена ошибка с сохранением инвентаря.&#xD;
    +   Отладочный вывод выражения теперь пишет тип данных по-русски.&#xD;
    *   Исправлена ошибка, из-за которой не все слова для предмета прогружались.&#xD;
    ~   Улучшена внутренняя структура фреймворка сохранения игры.&#xD;
    *   Исправлена ошибка, при которой запуск истории из Редактора убирал пометку о том, что история не сохранена.&#xD;
25.11.2013:&#xD;
    +   В заголовке окна Редактора теперь выводится путь и имя загруженного файла истории.&#xD;
    *   Исправлена ошибка при загрузке предметов, приводившая к их дублированию.&#xD;
    *   В инсталлятор добавлено создание папок Games и Saved Games.&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4 правка 5&#xD;
---------------------------------------&#xD;
21.11.2013:&#xD;
    +   Улучшен парсер: теперь он максимально полно пытается подобрать синонимы и ругается, если часть синонима не подошло;&#xD;
        также при ошибке при равных  шаблонах-кандидатах выбирается случайный для выдачи разных ответов/предложений.&#xD;
    ~   Если фраза короче синонима, то парсер выдаёт сообщение "Команду не совсем понял, прошу уточнить.".&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4 правка 4&#xD;
---------------------------------------&#xD;
20.10.2013:&#xD;
    *   Исправлена ошибка в команде "взять всё".&#xD;
    *   Убран забытый перехват на локации в "Спелеологе".&#xD;
23.10.2013:&#xD;
    ifml2-210765 Поддержка навешивания ролей в Редакторе&#xD;
    *   Исправлена ошибка с неправильным родом в диалоге удаления объекта ("Вы действительно хотите удалить ЭТОТ локацию?").&#xD;
    ~   Рефакторинг.&#xD;
28.10.2013:&#xD;
    +   Улучшен скроллинг в Плеере. Теперь при вводе команды лог скроллится на команду, а не в конец. А если скроллбар&#xD;
        находится выше низа, то показывается панелька со стрелкой "ДАЛЕЕ".&#xD;
31.10.2013:&#xD;
    +   В Плеере теперь при нажатии Enter в пустой строке ввода, если в лог на в самом низу, он перематывается на страницу ниже.&#xD;
    *   Убраны неприятные мигания при проматывании лога при вводе команды.&#xD;
    ~   Убрана панель "ДАЛЕЕ", показывавшая, что лог не в самом низу, и ниже ещё есть текст.&#xD;
    !   Также не работает скроллинг, если Плеер запущен из редактора. Но есть обходной путь: надо сначала кликнуть по логу, потом снова&#xD;
        по строке ввода - тогда лог заработает.&#xD;
02.11.2013:&#xD;
    *   Исправлен баг, когда после удаления локации и создания новой локации с тем же именем у неё генерировался ИД со следующим&#xD;
        числом (Лок1).&#xD;
04.11.2013:&#xD;
    *   Ответ при взятии типа "Кровать надёжно закреплён." заменён на "Прикреплено надёжно."&#xD;
    ~   При описании локации при перечислении предметов вместо "Здесь же" выводится "Здесь".&#xD;
    ~   Когда введена неполная команда ("взять" без предмета), и парсер задаёт доп. вопрос "взять что?", "что" и подобные слова заменены&#xD;
        на "кто (что)".&#xD;
    *   Текст теперь должен выделяться. Но при вводе команды может дёргаться.&#xD;
09.11.2013:&#xD;
    *   Исправлена проблема с невозможностью выделить текст в логе игры.&#xD;
    *   Исправлена ошибка с пропаданием предметов при перемещении.&#xD;
    *   Теперь команда "заново!" работает и в случае, если игра запущена в Плеера из Редактора.&#xD;
    +   В заголовке Плеера теперь показывается имя файла или строка "запущен из Редактора".&#xD;
10.11.2013:&#xD;
    *   Исправлен фокус при запуске Плеера - теперь он на поле ввода.&#xD;
11.11.2013:&#xD;
    +   Теперь можно редактировать информацио об истории: название, автора, версию и описание в настройках истории.&#xD;
    +   Добавлено главное меню "История", добавлен пункты "Начать новую историю...", "Начать сначала...", "Выйти...".&#xD;
    *   Временно решена проблема скролинга при запуске Плеера из Редактора - скроллбар просто проматывается наверх.&#xD;
16.11.2013:&#xD;
    ~   При выборе пункта главного меню "Начать сначала..." эмулируется ввод команды - эхо, прокрутка.&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4 правка 3&#xD;
---------------------------------------&#xD;
14.10.2013:&#xD;
    ifml2-214649 Редактирование инструкции "Перейти в локацию"&#xD;
    +   Теперь можно редактировать инструкцию "Перейти в локацию"&#xD;
    ifml2-189273 Замена инструкции "Взять предмет" на "Перемещение предмета"&#xD;
    +   Теперь можно редактировать инструкцию "Переместить предмет"&#xD;
*   Исправлено несколько багов (см. версию в трекере)&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4 правка 2&#xD;
---------------------------------------&#xD;
14.09.2013:&#xD;
    Bug #214756: Запретить сохранять локации и предметы без ИД&#xD;
    +   А также запрещено сохранять локаци и предметы с неуникальными идентификаторами.&#xD;
30.09.2013:&#xD;
    Feature #11946: Переменные и их проверки&#xD;
    +   Теперь можно редактировать глобальные переменные (в настройках истории) и менять их значения в инструкциях&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4 правка 1&#xD;
---------------------------------------&#xD;
28.08.2013:&#xD;
    Bug #210289: Возможно создать предмет без словарной записи&#xD;
    Bug #211064: Необходимо запретить добавлять локации и предметы без имени&#xD;
05.09.2013:&#xD;
    ifml2-13594 Перехваты действий&#xD;
    +   Ошибки в Редакторе теперь выводятся в удобное окно&#xD;
    +   Косметика&#xD;
08.09.2013:&#xD;
    ifml2-13594 Перехваты действий&#xD;
    +   Поддержка локационных перехватов действий в Движке.&#xD;
    !   Перехваты теперь работают следующим образом:&#xD;
        Если есть актуальные (подходящие под команду игрока) перехваты типа ВМЕСТО, то срабатывают они - сначала у предметов, затем&#xD;
        у локации, после обработка завершается.&#xD;
        Если же перехватов типа ВМЕСТО нет, то сначала срабатывают перехваты-ДО (предметы, потом локации), далее выполняется действие,&#xD;
        далее перехваты-ПОСЛЕ.&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4&#xD;
---------------------------------------&#xD;
11.03.2013:&#xD;
*   Исправлен неверный путь к игре в единственном тесте.&#xD;
+   Редактирование инструкции "Проверка условия".&#xD;
*   Исправлены некоторые инструкции.&#xD;
~   В редактор предмета возвращён идентификатор, т.к. он нужен в инструкциях (в выражениях).&#xD;
+   Теперь, если фраза слишком длинная, парсер отвечает так: "Я бы понял, если бы вы сказали "{0}", но я не понял вот эту часть&#xD;
    фразы: "{1}"."&#xD;
+   А в случае, когда фраза слишком короткая, и не хватает объектов, парсер кроме вопросительных слов в падежах (например, "Что?") также&#xD;
    пишет "(пишите ответ полностью)".&#xD;
+   В редактор перехвата добавлен предпросмотр списка инструкций, работает двойной щелчёк.&#xD;
!   Вообще, в Редакторе двойной щелчёк работает на всех списках подлежащих объектов.&#xD;
16.03.2013:&#xD;
~   Убрана поддержка старых не используемых инструкций.&#xD;
~   Рефакторинг редакторов инструкций.&#xD;
~   Общий рефакторинг.&#xD;
*   Исправлена ошибка, из-за которой редактируемые инструкции в списке по кнопке "Редактировать инструкции..." не сохранялись после&#xD;
    редактирования.&#xD;
17.03.2013:&#xD;
~   Рефакторинг всех редакторов.&#xD;
25.03.2013:&#xD;
+   Начата работа над редактором действий: созданы 2 вкладки ("Действия истории", "Действия в библиотеках"), в первой загружается список&#xD;
    действий.&#xD;
01.04.2013:&#xD;
+   Продолжена работа над редактором действий: вызывается редактор действия, он частично загружается.&#xD;
+   Внедрена сборка exe-wrapper'ов с помощью JSmooth.&#xD;
02.04.2013:&#xD;
+   Добавлен список шаблонов в редактор действия, кнопки пока не работают.&#xD;
15.04.2013:&#xD;
*   Исправлена старая команда "бросить" - она дублировала предметы.&#xD;
16.04.2013:&#xD;
*   Правильное отображение шаблонов в редакторе действий.&#xD;
+   Вторая вкладка действий переименована в "Все используемые действия", на неё грузятся все действия истории.&#xD;
21.04.2013:&#xD;
+   Доработки редакторов: действий, шаблонов, элементов шаблона.&#xD;
07.05.2013:&#xD;
*   Вызываемая процедура в редакторе действия теперь загружается правильно.&#xD;
+   В редакторе шаблона теперь работают кнопки вверх/вниз, а также "Редактировать" и "Удалить".&#xD;
+   Теперь можно редактировать литеральный элемент шаблона (состоит из синонимов).&#xD;
22.06.2013:&#xD;
*   Исправлена ошибка при создании нового действия.&#xD;
30.07.2013:&#xD;
    ifml2-29955 Редактирование действий:&#xD;
    +   работы по задаче&#xD;
22.08.2013:&#xD;
    ifml2-29955 Редактирование действий:&#xD;
    +   начало создания вкладки ограничений&#xD;
    +   "ОК" в редакторе действия применяет изменения&#xD;
    +   "ОК" в редакторе объектного элемента шаблона применяет измененения&#xD;
    +   там же: проверка, если стоит галочка, то должен быть выбран параметр&#xD;
    +   шаблоны теперь выглядят информативнее&#xD;
25.08.2013:&#xD;
    ifml2-29955 Редактирование действий:&#xD;
    +   Завершена вкладка ограничений&#xD;
    *   Исправлена ошибка, когда не всегда сработывал Escape в окнах&#xD;
    *   Теперь нельзя создавать действия с пустыми именами и шаблоны без элементов&#xD;
    ~   Все кнопки "Изменить..." переименованы в "Редактировать..."&#xD;
    *   Не сохранялись ограничения</comment>
    <comment language="en" />
  </entry>
  <entry targetMediaFileId="37" updatableVersionMin="" updatableVersionMax="" fileName="IFML2_2015_1_4_JRE6_20151117_185951.exe" newVersion="2015/1.4" newMediaFileId="37" fileSize="18899968" bundledJre="windows-x86-1.6.0_45" archive="false">
    <comment language="ru">﻿ЯРИЛ 2.0 Заметки к выпускам&#xD;
==========================================================================&#xD;
Обозначения:&#xD;
--------------------------------------------------------------------------&#xD;
+	добавление&#xD;
^   улучшение&#xD;
~	изменение&#xD;
*	исправление&#xD;
!	информация&#xD;
==========================================================================&#xD;
Issue trackers:&#xD;
https://www.hostedredmine.com/projects/ifml2/issues&#xD;
http://ifml2.myjetbrains.com/youtrack&#xD;
==========================================================================&#xD;
&#xD;
-------------------------------------------------&#xD;
Выпуск 2015/1.4&#xD;
-------------------------------------------------&#xD;
01.11.2015&#xD;
    456077 [КРИЛ2015] Процедура обработки ошибок парсера&#xD;
    +   [Движок] Добавлена системная процедура обработки ошибки парсинга и возможность её перекрывать пользовательской.&#xD;
12.11.2015&#xD;
    456077 [КРИЛ2015] Процедура обработки ошибок парсера&#xD;
    *   [Движок] Исправлена ошибка, при которой не выводилась ошибка парсинга, если процедура обработки не перекрывалась.&#xD;
13.11.2015&#xD;
    456077 [КРИЛ2015] Процедура обработки ошибок парсера&#xD;
    +   [Редактор] Добавлен пункт меню "История -&gt; Перехваты системных процедур...". Но пока не полностью доработана форма редактора.&#xD;
17.11.2015&#xD;
    456077 [КРИЛ2015] Процедура обработки ошибок парсера&#xD;
    +   [Редактор] Форма редактора полностью доработана.&#xD;
    +   [Редактор] Редактирование инструкции "Вернуть значение".&#xD;
&#xD;
-------------------------------------------------&#xD;
Выпуск 2015/1.3&#xD;
-------------------------------------------------&#xD;
12.06.2015&#xD;
    435156 Не работают два объекта подряд в одном падеже&#xD;
    *   [Парсер] Изменён алгоритм подбора слов для объекта в шаблоне - теперь они пытаются подобраться рекурсивно, пока это получается.&#xD;
16.07.2015&#xD;
    435156 Не работают два объекта подряд в одном падеже&#xD;
    *   [Парсер] Теперь если при подборе слова для объекта попадается такое же слово, то считается, что оно (и все слова от первого&#xD;
        повторяющегося слова до второго) относится к другому элементу шаблона. Т.е. при анализе фразы "положить в тарелку розовую тарелку"&#xD;
        при встрече второй "тарелки" парсер решит, что слова "розовую тарелку" относятся к другому объекту (элементу шаблона).&#xD;
&#xD;
-------------------------------------------------&#xD;
Выпуск 2015/1.2&#xD;
-------------------------------------------------&#xD;
19.04.2015&#xD;
    *   [Движок] Bug #420341 Криво прописывается библиотека: обёрнуто получение относительного пути для библиотеки - перед сравнением они&#xD;
        преорбазуются в нижний регистр&#xD;
23.04.2015&#xD;
    425212 Неверно работает сохранение&#xD;
    ^   Рефакторинг: уменьшена зависимость Parser от других классов.&#xD;
    *   Добавлена очистка данных при инициализации игры в Движке и Виртуальной машине - стал правильно работать перезапуск игры.&#xD;
    *   Исправлена ошибка загрузки сохранения, из-за которой предметы вместо перемещения копировались. В лог выводится ошибка, если&#xD;
        контейнер, привязанный к предмету, его не содержит.&#xD;
&#xD;
-------------------------------------------------&#xD;
Выпуск 2015/1.1&#xD;
-------------------------------------------------&#xD;
11.04.2015&#xD;
    * [Библиотеки] Bug #417504 "А также тут" в Комсомольце&#xD;
    * [Поставка] Bug #418941 Вместе с игрой лежит тест на тайны заброшенного замка, но самой игры вроде как нет: убран тест&#xD;
&#xD;
-------------------------------------------------&#xD;
Выпуск 2015/1&#xD;
-------------------------------------------------&#xD;
19.01.2015&#xD;
    279604 [Замечание #8-1] Инструкция "Выполнить процедуру"&#xD;
    +   [Движок] Добавлена инструкция "Выполнить процедуру" - пока на уровне ядра, поддержки в Редакторе ещё нет.&#xD;
        Поддерживает передачу параметров и возврат значения.&#xD;
04.02.2015&#xD;
    279604 [Замечание #8-1] Инструкция "Выполнить процедуру"&#xD;
    *   [Движок] Исправлен механизм выполнения инструкций, исправлены ошибки.&#xD;
    +   [Редактор] Поддержка инструкции "Выполнить процедуру".&#xD;
    +   [Движок] Новая отладочный символ "глобальные" - выводит список глобальных переменных. Вызвать в Плеере через команду&#xD;
        "?глобальные".&#xD;
    ~   [Движок] Глобальные и процедурные переменные теперь устанавливаются напрямую при выполнении инструкции,&#xD;
        а не сохраняются в контексте.&#xD;
13.03.2015&#xD;
    Task #402306 Значение пустота (NullValue)&#xD;
    +   [Движок] Новый особый тип данных - Пустота. Существует только одно значение этого типа - Пустота.&#xD;
    +   [Движок] Новая системная константа - "пустота", равна Пустоте.&#xD;
    +   [Движок] Любое значение можно сравнивать с Пустой: если значение тоже Пустота, то будет положительный результат,&#xD;
        иначе отрицательный.&#xD;
    ~   [Движок] При вызове процедуры все незаданные параметры принимают значение Пустота.&#xD;
17.03.2015&#xD;
    Bug #382635 [Джон-03] Ошибка с контейнерами&#xD;
    *   [Библиотеки] Исправлено действие "Положить": теперь нельзя класть предметы в закрытый контейнер.&#xD;
    *   [Игры] Исправлен словарь в Зорке.&#xD;
19.03.2015&#xD;
    Ifml-8 Ошибка с переходом в локацию, если не указана начальная локация&#xD;
    ~   [Движок] Изменена логика установки стартовой локации:&#xD;
        1. Если есть проца, выполняется она.&#xD;
        2. Если указана стартовая локация, она устанавливается.&#xD;
            2.1. Если стоит галочка вывода описания, оно выводится.&#xD;
        3. Если до сих пор не установлена никакая локация, устанавливается любая, но без вывода описания.&#xD;
    *   [Редактор] Теперь можно отменить выбор стартовой локации (теперь есть пустой элемент в выпадающем списке).&#xD;
    ^   [Редактор] Редактор глобальных переменных переехал на новый редактор списков.&#xD;
&#xD;
-------------------------------------------------&#xD;
Версия 2014.12&#xD;
-------------------------------------------------&#xD;
29.12.2014&#xD;
    *   [Редактор] Добавлена валидация процедур: имя не должно быть пустым и не должно совпадать с существущей в истории процедурой.&#xD;
30.12.2014&#xD;
    *   [Редактор] Исправлена ошибка, внесённая предыдущим исправлением. :) Теперь процедуру можно отредактировать и сохранить под своим&#xD;
        именем.&#xD;
&#xD;
-------------------------------------------------&#xD;
Прототип 10 выпуск 5 правка 4 (2014)&#xD;
-------------------------------------------------&#xD;
10.03.2014&#xD;
    +   Роль "надеваемое": теперь предметы можно надевать на себя и снимать&#xD;
        Ограничения:&#xD;
            нельзя надеть: ненадеваемое; то, что уже надето; то, что не в инвентаре.&#xD;
            надетый предмет: нельзя взять (пока кроме "взять всё")&#xD;
        Надетость отражается при осмотре предмета (как, например, открытость).&#xD;
        При выбрасывании надетый предмет снимается автоматически.&#xD;
16.03.2014&#xD;
    +   Переработана утилита по заливке данных в библиотеки.&#xD;
02.04.2014&#xD;
    ifml2-287221 диалоговые фильтры библиотек&#xD;
    +   Редактор списка используемых библиотек переделан на транзакционный (изменения можно принять или отменить); оформление кнопок&#xD;
        вынесено в форму для наглядности, а действия создаются по кнопкам&#xD;
    *   В диалог выбора файла библиотеки исправлен фильтр и добавлены иконки&#xD;
    ~   Запрет добавления повторяющихся библиотек&#xD;
09.04.2014&#xD;
    *   Исправлена ошибка, из-за которой не подгружались роли.&#xD;
    *   Исправлена ошибка, из-за которой при попытке редактировать инструкцию "Установить значение свойства" вываливалась здоровенная&#xD;
        ошибка.&#xD;
10.04.2014&#xD;
    +   [Внутреннее] Добавлен класс ButtonAction для автоматизации создания действий на кнопках и повышения наглядности кнопок в интерфейсе.&#xD;
        На кнопки локаций повешены иконки для наглядности, их действия превращены в ButtonAction.&#xD;
    +   [Редактор] Главное окно переделано: добавлены закладки "Локации и предметы" и "Процедуры и действия". Вторая пока пустая.&#xD;
    +   [Редактор] Ошибки сохранени истории переведены на большое окно.&#xD;
01.09.2014&#xD;
    ~   [Внутреннее] Загрузка локаций теперь осуществляется по новому методу.&#xD;
    +   [Редактор] Поддержка редактирования всех направлений: к обычным С, В, Ю, З добавились ещё СВ, ЮВ, ЮЗ, СЗ, Вверх, Вниз.&#xD;
10.09.2014&#xD;
    ~   [Редактор] Редактирование процедур и действий перенесено из главного меню во вкладку в главном окне.&#xD;
    +   [Редактор] Редактирование процедур теперь транзакционное - т.е. отменяется при нажатии кнопки "Отмена".&#xD;
    +   [Редактор] При редактированиие процедур можно редактировать их параметры.&#xD;
12.09.2014&#xD;
    ^   [Редактор] При удалении процедуры осуществляются проверки, используется ли она где-то. Если используется в действиях, то удалять&#xD;
        не разрешается. Если как стартовая процедура - то запрашивается подтверждение на удаление.&#xD;
15.09.2014&#xD;
    *   [Редактор] Исправлена ошибка, из-за которой при двойном щелчке на список окно редактора открывалось 2 (и более) раз.&#xD;
    *   [Редактор] Исправлена ошибка, из-за которой при редактировании процедур и действий история не помечалась как не сохранённая.&#xD;
    ^   [Редактор] Локации, процедуры и инструкции в процедурах теперь можно менять местами (передвигать по списку.)&#xD;
16.09.2014&#xD;
    ^   [Редактор] Редактор списка предметов приведён к общему виду (передвижение по списку, пометка истории как несохранённой,&#xD;
        двойной щелчок, контекстное меню).&#xD;
22.09.2014&#xD;
    +   [Платформа] В стандартную поставку платформы добавлена игра "Руслан и Людмила" Андрея Репина, занявшая 35ое место в КРИЛ-2013.&#xD;
09.11.2014&#xD;
    *   [Редактор] Теперь после добавления действия оно появляется в выборе действий в перехвате сразу, если подходит под условия&#xD;
        (для локаций - все действия, для предметов - при наличие хотя бы одного объектного параметра).&#xD;
11.11.2014&#xD;
    ifml2-358009 [Замечание 12] Нет действий дополнительных направлений&#xD;
    *   [Платформа] Теперь доступны команды переходов по доп. направлениям (св, юв, юз, сз), а также соответствующие систмные свойства&#xD;
        локаций (СевероВосток и проч.).&#xD;
18.11.2014&#xD;
    ifml2-210765 Поддержка навешивания ролей в Редакторе&#xD;
    +   [Редактор] Закончена реализация поддержки навешивания ролей в Редакторе.&#xD;
    *   [Редактор] Исправлено сохранение наполнения ролей при редактировании их в предметах.&#xD;
    *   [Библиотеки] Исправлена процедура "Описать", падающая в ошибку при осмотре предмета с ролью "контейнер", но без роли "открываемый".&#xD;
    *   [Редактор] Скрыта кнопка "Редактировать" для списков коллекций ролей.&#xD;
    *   [Редактор] Теперь в коллекцию роли нельзя добавлять предметы, которые там уже есть, а также предмет, на котором висит роль.&#xD;
24.11.2014&#xD;
    *   [Движок] Исправлена работа инструкции "Переместить предмет", которая перемещала предмет в никуда.&#xD;
    241891 [Замечание #3] Парсер: берётся первый подошедший синоним без учёта, что он не верный&#xD;
    *   [Парсер] Теперь берётся только любой из самых подошедших (по длине) синонимов.&#xD;
    *   [Парсер] Теперь слово объекта (предмета) берётся, если только оно полность подошло, а не частично.&#xD;
&#xD;
-------------------------------------------------&#xD;
Прототип 10 выпуск 5 правка 3 (Хоббит, глава 3)&#xD;
-------------------------------------------------&#xD;
01.12.2013&#xD;
    *   Исправлена ошибка, из-за которой Движок не видел предметы в контейнере, который находился на любом уровне в инвентаре.&#xD;
    *   Исправлена опечатка при выводе списка предметов на поверхности и в контейнере.&#xD;
    +   Оптимизация стандартной библиотеки.&#xD;
    +   Добавлено стандартное действие "закрыть &lt;предмет&gt;", закрывающее открываемые (роль) открытые предметы.&#xD;
    ~   Перенос проверки доступности предметов из Парсера в Движок.&#xD;
02.12.2013&#xD;
    *   Исправления в стандартной библиотеке "Глаголы".&#xD;
11.12.2013:&#xD;
    +   Добавлен признак "тяжёлый". Тяжёлые предметы запрещено брать ("взять" и "взять всё").&#xD;
    +   Запрещено команде "взять всё" брать закреплённые предметы.&#xD;
    *   Исправлена ошибка парсера, приводившая к тому, что на слишком длинные команды давались неадекватные ответы.&#xD;
15.01.2014:&#xD;
    +   Инструкция "Бросить кость" с диапазоном броска (от и до) и именем переменной, куда сохранить результат.&#xD;
&#xD;
-------------------------------------------------&#xD;
Прототип 10 выпуск 5 правка 2 (Хоббит, глава 2)&#xD;
-------------------------------------------------&#xD;
29.11.2013&#xD;
    +   Экспорт зашифрованной истории в Редакторе.&#xD;
    +   Поддержка загрузки зашифрованной истории в Плеере.&#xD;
    ~   Из диалога открытия истории в Плеере убран фильтр "Все файлы".&#xD;
30.11.2013&#xD;
    ~   Из всех диалогов открытия и сохранения убрано расширение .xml.&#xD;
    ~   Файлам историй изменены расширения на .ifml.&#xD;
    +   Добавлен запрет на открытие шифрованных файлов в Редакторе.&#xD;
    +   Добавлена защита от загрузки сохранений игры от других историй.&#xD;
&#xD;
-------------------------------------------------&#xD;
Прототип 10 выпуск 5 правка 1 (Хоббит, глава 1)&#xD;
-------------------------------------------------&#xD;
28.11.2013&#xD;
    +   Некоторые улучшения в стандартной библиотеке "Глаголы" (verbs.xml).&#xD;
    ~   В заголовке Редактора вместо пути к файлу истории теперь только имя файла.&#xD;
    ~   В некоторых ответах парсера винительный падеж заменён на родительный как более правильный по грамматике.&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 5 (Хоббит)&#xD;
---------------------------------------&#xD;
18.11.2013:&#xD;
    ~	Улучшение установки обратной связи Слово - Предмет.&#xD;
    +	Начало работ по сохраненнию игры: главное меню, сохраняются глобальные и системные параменные, инвентарий, предметы в локациях.&#xD;
19.11.2013:&#xD;
    +   Продолжение работ по сохранению игры: восстановление предметов в локациях.&#xD;
23.11.2013:&#xD;
    +   Продолжение работ по сохранению игры: добавлено загрузка игры в меню; игра загружается.&#xD;
        Но пока нельзя загружать сохранение от другой игры - получите ошибку. В дальнейшем будет стоять запрет.&#xD;
24.11.2013:&#xD;
    +   Завершены работы по сохранению игры: сохранение и восстановление предметов в предметах (в свойствах ролей).&#xD;
    ~   Заменены иконки в диалогах сохранения и загрузки на более отличимые.&#xD;
    *   Исправлена ошибка с сохранением инвентаря.&#xD;
    +   Отладочный вывод выражения теперь пишет тип данных по-русски.&#xD;
    *   Исправлена ошибка, из-за которой не все слова для предмета прогружались.&#xD;
    ~   Улучшена внутренняя структура фреймворка сохранения игры.&#xD;
    *   Исправлена ошибка, при которой запуск истории из Редактора убирал пометку о том, что история не сохранена.&#xD;
25.11.2013:&#xD;
    +   В заголовке окна Редактора теперь выводится путь и имя загруженного файла истории.&#xD;
    *   Исправлена ошибка при загрузке предметов, приводившая к их дублированию.&#xD;
    *   В инсталлятор добавлено создание папок Games и Saved Games.&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4 правка 5&#xD;
---------------------------------------&#xD;
21.11.2013:&#xD;
    +   Улучшен парсер: теперь он максимально полно пытается подобрать синонимы и ругается, если часть синонима не подошло;&#xD;
        также при ошибке при равных  шаблонах-кандидатах выбирается случайный для выдачи разных ответов/предложений.&#xD;
    ~   Если фраза короче синонима, то парсер выдаёт сообщение "Команду не совсем понял, прошу уточнить.".&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4 правка 4&#xD;
---------------------------------------&#xD;
20.10.2013:&#xD;
    *   Исправлена ошибка в команде "взять всё".&#xD;
    *   Убран забытый перехват на локации в "Спелеологе".&#xD;
23.10.2013:&#xD;
    ifml2-210765 Поддержка навешивания ролей в Редакторе&#xD;
    *   Исправлена ошибка с неправильным родом в диалоге удаления объекта ("Вы действительно хотите удалить ЭТОТ локацию?").&#xD;
    ~   Рефакторинг.&#xD;
28.10.2013:&#xD;
    +   Улучшен скроллинг в Плеере. Теперь при вводе команды лог скроллится на команду, а не в конец. А если скроллбар&#xD;
        находится выше низа, то показывается панелька со стрелкой "ДАЛЕЕ".&#xD;
31.10.2013:&#xD;
    +   В Плеере теперь при нажатии Enter в пустой строке ввода, если в лог на в самом низу, он перематывается на страницу ниже.&#xD;
    *   Убраны неприятные мигания при проматывании лога при вводе команды.&#xD;
    ~   Убрана панель "ДАЛЕЕ", показывавшая, что лог не в самом низу, и ниже ещё есть текст.&#xD;
    !   Также не работает скроллинг, если Плеер запущен из редактора. Но есть обходной путь: надо сначала кликнуть по логу, потом снова&#xD;
        по строке ввода - тогда лог заработает.&#xD;
02.11.2013:&#xD;
    *   Исправлен баг, когда после удаления локации и создания новой локации с тем же именем у неё генерировался ИД со следующим&#xD;
        числом (Лок1).&#xD;
04.11.2013:&#xD;
    *   Ответ при взятии типа "Кровать надёжно закреплён." заменён на "Прикреплено надёжно."&#xD;
    ~   При описании локации при перечислении предметов вместо "Здесь же" выводится "Здесь".&#xD;
    ~   Когда введена неполная команда ("взять" без предмета), и парсер задаёт доп. вопрос "взять что?", "что" и подобные слова заменены&#xD;
        на "кто (что)".&#xD;
    *   Текст теперь должен выделяться. Но при вводе команды может дёргаться.&#xD;
09.11.2013:&#xD;
    *   Исправлена проблема с невозможностью выделить текст в логе игры.&#xD;
    *   Исправлена ошибка с пропаданием предметов при перемещении.&#xD;
    *   Теперь команда "заново!" работает и в случае, если игра запущена в Плеера из Редактора.&#xD;
    +   В заголовке Плеера теперь показывается имя файла или строка "запущен из Редактора".&#xD;
10.11.2013:&#xD;
    *   Исправлен фокус при запуске Плеера - теперь он на поле ввода.&#xD;
11.11.2013:&#xD;
    +   Теперь можно редактировать информацио об истории: название, автора, версию и описание в настройках истории.&#xD;
    +   Добавлено главное меню "История", добавлен пункты "Начать новую историю...", "Начать сначала...", "Выйти...".&#xD;
    *   Временно решена проблема скролинга при запуске Плеера из Редактора - скроллбар просто проматывается наверх.&#xD;
16.11.2013:&#xD;
    ~   При выборе пункта главного меню "Начать сначала..." эмулируется ввод команды - эхо, прокрутка.&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4 правка 3&#xD;
---------------------------------------&#xD;
14.10.2013:&#xD;
    ifml2-214649 Редактирование инструкции "Перейти в локацию"&#xD;
    +   Теперь можно редактировать инструкцию "Перейти в локацию"&#xD;
    ifml2-189273 Замена инструкции "Взять предмет" на "Перемещение предмета"&#xD;
    +   Теперь можно редактировать инструкцию "Переместить предмет"&#xD;
*   Исправлено несколько багов (см. версию в трекере)&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4 правка 2&#xD;
---------------------------------------&#xD;
14.09.2013:&#xD;
    Bug #214756: Запретить сохранять локации и предметы без ИД&#xD;
    +   А также запрещено сохранять локаци и предметы с неуникальными идентификаторами.&#xD;
30.09.2013:&#xD;
    Feature #11946: Переменные и их проверки&#xD;
    +   Теперь можно редактировать глобальные переменные (в настройках истории) и менять их значения в инструкциях&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4 правка 1&#xD;
---------------------------------------&#xD;
28.08.2013:&#xD;
    Bug #210289: Возможно создать предмет без словарной записи&#xD;
    Bug #211064: Необходимо запретить добавлять локации и предметы без имени&#xD;
05.09.2013:&#xD;
    ifml2-13594 Перехваты действий&#xD;
    +   Ошибки в Редакторе теперь выводятся в удобное окно&#xD;
    +   Косметика&#xD;
08.09.2013:&#xD;
    ifml2-13594 Перехваты действий&#xD;
    +   Поддержка локационных перехватов действий в Движке.&#xD;
    !   Перехваты теперь работают следующим образом:&#xD;
        Если есть актуальные (подходящие под команду игрока) перехваты типа ВМЕСТО, то срабатывают они - сначала у предметов, затем&#xD;
        у локации, после обработка завершается.&#xD;
        Если же перехватов типа ВМЕСТО нет, то сначала срабатывают перехваты-ДО (предметы, потом локации), далее выполняется действие,&#xD;
        далее перехваты-ПОСЛЕ.&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4&#xD;
---------------------------------------&#xD;
11.03.2013:&#xD;
*   Исправлен неверный путь к игре в единственном тесте.&#xD;
+   Редактирование инструкции "Проверка условия".&#xD;
*   Исправлены некоторые инструкции.&#xD;
~   В редактор предмета возвращён идентификатор, т.к. он нужен в инструкциях (в выражениях).&#xD;
+   Теперь, если фраза слишком длинная, парсер отвечает так: "Я бы понял, если бы вы сказали "{0}", но я не понял вот эту часть&#xD;
    фразы: "{1}"."&#xD;
+   А в случае, когда фраза слишком короткая, и не хватает объектов, парсер кроме вопросительных слов в падежах (например, "Что?") также&#xD;
    пишет "(пишите ответ полностью)".&#xD;
+   В редактор перехвата добавлен предпросмотр списка инструкций, работает двойной щелчёк.&#xD;
!   Вообще, в Редакторе двойной щелчёк работает на всех списках подлежащих объектов.&#xD;
16.03.2013:&#xD;
~   Убрана поддержка старых не используемых инструкций.&#xD;
~   Рефакторинг редакторов инструкций.&#xD;
~   Общий рефакторинг.&#xD;
*   Исправлена ошибка, из-за которой редактируемые инструкции в списке по кнопке "Редактировать инструкции..." не сохранялись после&#xD;
    редактирования.&#xD;
17.03.2013:&#xD;
~   Рефакторинг всех редакторов.&#xD;
25.03.2013:&#xD;
+   Начата работа над редактором действий: созданы 2 вкладки ("Действия истории", "Действия в библиотеках"), в первой загружается список&#xD;
    действий.&#xD;
01.04.2013:&#xD;
+   Продолжена работа над редактором действий: вызывается редактор действия, он частично загружается.&#xD;
+   Внедрена сборка exe-wrapper'ов с помощью JSmooth.&#xD;
02.04.2013:&#xD;
+   Добавлен список шаблонов в редактор действия, кнопки пока не работают.&#xD;
15.04.2013:&#xD;
*   Исправлена старая команда "бросить" - она дублировала предметы.&#xD;
16.04.2013:&#xD;
*   Правильное отображение шаблонов в редакторе действий.&#xD;
+   Вторая вкладка действий переименована в "Все используемые действия", на неё грузятся все действия истории.&#xD;
21.04.2013:&#xD;
+   Доработки редакторов: действий, шаблонов, элементов шаблона.&#xD;
07.05.2013:&#xD;
*   Вызываемая процедура в редакторе действия теперь загружается правильно.&#xD;
+   В редакторе шаблона теперь работают кнопки вверх/вниз, а также "Редактировать" и "Удалить".&#xD;
+   Теперь можно редактировать литеральный элемент шаблона (состоит из синонимов).&#xD;
22.06.2013:&#xD;
*   Исправлена ошибка при создании нового действия.&#xD;
30.07.2013:&#xD;
    ifml2-29955 Редактирование действий:&#xD;
    +   работы по задаче&#xD;
22.08.2013:&#xD;
    ifml2-29955 Редактирование действий:&#xD;
    +   начало создания вкладки ограничений&#xD;
    +   "ОК" в редакторе действия применяет изменения&#xD;
    +   "ОК" в редакторе объектного элемента шаблона применяет измененения&#xD;
    +   там же: проверка, если стоит галочка, то должен быть выбран параметр&#xD;
    +   шаблоны теперь выглядят информативнее&#xD;
25.08.2013:&#xD;
    ifml2-29955 Редактирование действий:&#xD;
    +   Завершена вкладка ограничений&#xD;
    *   Исправлена ошибка, когда не всегда сработывал Escape в окнах&#xD;
    *   Теперь нельзя создавать действия с пустыми именами и шаблоны без элементов&#xD;
    ~   Все кнопки "Изменить..." переименованы в "Редактировать..."&#xD;
    *   Не сохранялись ограничения</comment>
    <comment language="en" />
  </entry>
  <entry targetMediaFileId="381" updatableVersionMin="" updatableVersionMax="" fileName="ЯРИЛ_2_0_unix_2015_1_4.sh" newVersion="2015/1.4" newMediaFileId="381" fileSize="1982828" bundledJre="" archive="false">
    <comment language="ru">﻿ЯРИЛ 2.0 Заметки к выпускам&#xD;
==========================================================================&#xD;
Обозначения:&#xD;
--------------------------------------------------------------------------&#xD;
+	добавление&#xD;
^   улучшение&#xD;
~	изменение&#xD;
*	исправление&#xD;
!	информация&#xD;
==========================================================================&#xD;
Issue trackers:&#xD;
https://www.hostedredmine.com/projects/ifml2/issues&#xD;
http://ifml2.myjetbrains.com/youtrack&#xD;
==========================================================================&#xD;
&#xD;
-------------------------------------------------&#xD;
Выпуск 2015/1.4&#xD;
-------------------------------------------------&#xD;
01.11.2015&#xD;
    456077 [КРИЛ2015] Процедура обработки ошибок парсера&#xD;
    +   [Движок] Добавлена системная процедура обработки ошибки парсинга и возможность её перекрывать пользовательской.&#xD;
12.11.2015&#xD;
    456077 [КРИЛ2015] Процедура обработки ошибок парсера&#xD;
    *   [Движок] Исправлена ошибка, при которой не выводилась ошибка парсинга, если процедура обработки не перекрывалась.&#xD;
13.11.2015&#xD;
    456077 [КРИЛ2015] Процедура обработки ошибок парсера&#xD;
    +   [Редактор] Добавлен пункт меню "История -&gt; Перехваты системных процедур...". Но пока не полностью доработана форма редактора.&#xD;
17.11.2015&#xD;
    456077 [КРИЛ2015] Процедура обработки ошибок парсера&#xD;
    +   [Редактор] Форма редактора полностью доработана.&#xD;
    +   [Редактор] Редактирование инструкции "Вернуть значение".&#xD;
&#xD;
-------------------------------------------------&#xD;
Выпуск 2015/1.3&#xD;
-------------------------------------------------&#xD;
12.06.2015&#xD;
    435156 Не работают два объекта подряд в одном падеже&#xD;
    *   [Парсер] Изменён алгоритм подбора слов для объекта в шаблоне - теперь они пытаются подобраться рекурсивно, пока это получается.&#xD;
16.07.2015&#xD;
    435156 Не работают два объекта подряд в одном падеже&#xD;
    *   [Парсер] Теперь если при подборе слова для объекта попадается такое же слово, то считается, что оно (и все слова от первого&#xD;
        повторяющегося слова до второго) относится к другому элементу шаблона. Т.е. при анализе фразы "положить в тарелку розовую тарелку"&#xD;
        при встрече второй "тарелки" парсер решит, что слова "розовую тарелку" относятся к другому объекту (элементу шаблона).&#xD;
&#xD;
-------------------------------------------------&#xD;
Выпуск 2015/1.2&#xD;
-------------------------------------------------&#xD;
19.04.2015&#xD;
    *   [Движок] Bug #420341 Криво прописывается библиотека: обёрнуто получение относительного пути для библиотеки - перед сравнением они&#xD;
        преорбазуются в нижний регистр&#xD;
23.04.2015&#xD;
    425212 Неверно работает сохранение&#xD;
    ^   Рефакторинг: уменьшена зависимость Parser от других классов.&#xD;
    *   Добавлена очистка данных при инициализации игры в Движке и Виртуальной машине - стал правильно работать перезапуск игры.&#xD;
    *   Исправлена ошибка загрузки сохранения, из-за которой предметы вместо перемещения копировались. В лог выводится ошибка, если&#xD;
        контейнер, привязанный к предмету, его не содержит.&#xD;
&#xD;
-------------------------------------------------&#xD;
Выпуск 2015/1.1&#xD;
-------------------------------------------------&#xD;
11.04.2015&#xD;
    * [Библиотеки] Bug #417504 "А также тут" в Комсомольце&#xD;
    * [Поставка] Bug #418941 Вместе с игрой лежит тест на тайны заброшенного замка, но самой игры вроде как нет: убран тест&#xD;
&#xD;
-------------------------------------------------&#xD;
Выпуск 2015/1&#xD;
-------------------------------------------------&#xD;
19.01.2015&#xD;
    279604 [Замечание #8-1] Инструкция "Выполнить процедуру"&#xD;
    +   [Движок] Добавлена инструкция "Выполнить процедуру" - пока на уровне ядра, поддержки в Редакторе ещё нет.&#xD;
        Поддерживает передачу параметров и возврат значения.&#xD;
04.02.2015&#xD;
    279604 [Замечание #8-1] Инструкция "Выполнить процедуру"&#xD;
    *   [Движок] Исправлен механизм выполнения инструкций, исправлены ошибки.&#xD;
    +   [Редактор] Поддержка инструкции "Выполнить процедуру".&#xD;
    +   [Движок] Новая отладочный символ "глобальные" - выводит список глобальных переменных. Вызвать в Плеере через команду&#xD;
        "?глобальные".&#xD;
    ~   [Движок] Глобальные и процедурные переменные теперь устанавливаются напрямую при выполнении инструкции,&#xD;
        а не сохраняются в контексте.&#xD;
13.03.2015&#xD;
    Task #402306 Значение пустота (NullValue)&#xD;
    +   [Движок] Новый особый тип данных - Пустота. Существует только одно значение этого типа - Пустота.&#xD;
    +   [Движок] Новая системная константа - "пустота", равна Пустоте.&#xD;
    +   [Движок] Любое значение можно сравнивать с Пустой: если значение тоже Пустота, то будет положительный результат,&#xD;
        иначе отрицательный.&#xD;
    ~   [Движок] При вызове процедуры все незаданные параметры принимают значение Пустота.&#xD;
17.03.2015&#xD;
    Bug #382635 [Джон-03] Ошибка с контейнерами&#xD;
    *   [Библиотеки] Исправлено действие "Положить": теперь нельзя класть предметы в закрытый контейнер.&#xD;
    *   [Игры] Исправлен словарь в Зорке.&#xD;
19.03.2015&#xD;
    Ifml-8 Ошибка с переходом в локацию, если не указана начальная локация&#xD;
    ~   [Движок] Изменена логика установки стартовой локации:&#xD;
        1. Если есть проца, выполняется она.&#xD;
        2. Если указана стартовая локация, она устанавливается.&#xD;
            2.1. Если стоит галочка вывода описания, оно выводится.&#xD;
        3. Если до сих пор не установлена никакая локация, устанавливается любая, но без вывода описания.&#xD;
    *   [Редактор] Теперь можно отменить выбор стартовой локации (теперь есть пустой элемент в выпадающем списке).&#xD;
    ^   [Редактор] Редактор глобальных переменных переехал на новый редактор списков.&#xD;
&#xD;
-------------------------------------------------&#xD;
Версия 2014.12&#xD;
-------------------------------------------------&#xD;
29.12.2014&#xD;
    *   [Редактор] Добавлена валидация процедур: имя не должно быть пустым и не должно совпадать с существущей в истории процедурой.&#xD;
30.12.2014&#xD;
    *   [Редактор] Исправлена ошибка, внесённая предыдущим исправлением. :) Теперь процедуру можно отредактировать и сохранить под своим&#xD;
        именем.&#xD;
&#xD;
-------------------------------------------------&#xD;
Прототип 10 выпуск 5 правка 4 (2014)&#xD;
-------------------------------------------------&#xD;
10.03.2014&#xD;
    +   Роль "надеваемое": теперь предметы можно надевать на себя и снимать&#xD;
        Ограничения:&#xD;
            нельзя надеть: ненадеваемое; то, что уже надето; то, что не в инвентаре.&#xD;
            надетый предмет: нельзя взять (пока кроме "взять всё")&#xD;
        Надетость отражается при осмотре предмета (как, например, открытость).&#xD;
        При выбрасывании надетый предмет снимается автоматически.&#xD;
16.03.2014&#xD;
    +   Переработана утилита по заливке данных в библиотеки.&#xD;
02.04.2014&#xD;
    ifml2-287221 диалоговые фильтры библиотек&#xD;
    +   Редактор списка используемых библиотек переделан на транзакционный (изменения можно принять или отменить); оформление кнопок&#xD;
        вынесено в форму для наглядности, а действия создаются по кнопкам&#xD;
    *   В диалог выбора файла библиотеки исправлен фильтр и добавлены иконки&#xD;
    ~   Запрет добавления повторяющихся библиотек&#xD;
09.04.2014&#xD;
    *   Исправлена ошибка, из-за которой не подгружались роли.&#xD;
    *   Исправлена ошибка, из-за которой при попытке редактировать инструкцию "Установить значение свойства" вываливалась здоровенная&#xD;
        ошибка.&#xD;
10.04.2014&#xD;
    +   [Внутреннее] Добавлен класс ButtonAction для автоматизации создания действий на кнопках и повышения наглядности кнопок в интерфейсе.&#xD;
        На кнопки локаций повешены иконки для наглядности, их действия превращены в ButtonAction.&#xD;
    +   [Редактор] Главное окно переделано: добавлены закладки "Локации и предметы" и "Процедуры и действия". Вторая пока пустая.&#xD;
    +   [Редактор] Ошибки сохранени истории переведены на большое окно.&#xD;
01.09.2014&#xD;
    ~   [Внутреннее] Загрузка локаций теперь осуществляется по новому методу.&#xD;
    +   [Редактор] Поддержка редактирования всех направлений: к обычным С, В, Ю, З добавились ещё СВ, ЮВ, ЮЗ, СЗ, Вверх, Вниз.&#xD;
10.09.2014&#xD;
    ~   [Редактор] Редактирование процедур и действий перенесено из главного меню во вкладку в главном окне.&#xD;
    +   [Редактор] Редактирование процедур теперь транзакционное - т.е. отменяется при нажатии кнопки "Отмена".&#xD;
    +   [Редактор] При редактированиие процедур можно редактировать их параметры.&#xD;
12.09.2014&#xD;
    ^   [Редактор] При удалении процедуры осуществляются проверки, используется ли она где-то. Если используется в действиях, то удалять&#xD;
        не разрешается. Если как стартовая процедура - то запрашивается подтверждение на удаление.&#xD;
15.09.2014&#xD;
    *   [Редактор] Исправлена ошибка, из-за которой при двойном щелчке на список окно редактора открывалось 2 (и более) раз.&#xD;
    *   [Редактор] Исправлена ошибка, из-за которой при редактировании процедур и действий история не помечалась как не сохранённая.&#xD;
    ^   [Редактор] Локации, процедуры и инструкции в процедурах теперь можно менять местами (передвигать по списку.)&#xD;
16.09.2014&#xD;
    ^   [Редактор] Редактор списка предметов приведён к общему виду (передвижение по списку, пометка истории как несохранённой,&#xD;
        двойной щелчок, контекстное меню).&#xD;
22.09.2014&#xD;
    +   [Платформа] В стандартную поставку платформы добавлена игра "Руслан и Людмила" Андрея Репина, занявшая 35ое место в КРИЛ-2013.&#xD;
09.11.2014&#xD;
    *   [Редактор] Теперь после добавления действия оно появляется в выборе действий в перехвате сразу, если подходит под условия&#xD;
        (для локаций - все действия, для предметов - при наличие хотя бы одного объектного параметра).&#xD;
11.11.2014&#xD;
    ifml2-358009 [Замечание 12] Нет действий дополнительных направлений&#xD;
    *   [Платформа] Теперь доступны команды переходов по доп. направлениям (св, юв, юз, сз), а также соответствующие систмные свойства&#xD;
        локаций (СевероВосток и проч.).&#xD;
18.11.2014&#xD;
    ifml2-210765 Поддержка навешивания ролей в Редакторе&#xD;
    +   [Редактор] Закончена реализация поддержки навешивания ролей в Редакторе.&#xD;
    *   [Редактор] Исправлено сохранение наполнения ролей при редактировании их в предметах.&#xD;
    *   [Библиотеки] Исправлена процедура "Описать", падающая в ошибку при осмотре предмета с ролью "контейнер", но без роли "открываемый".&#xD;
    *   [Редактор] Скрыта кнопка "Редактировать" для списков коллекций ролей.&#xD;
    *   [Редактор] Теперь в коллекцию роли нельзя добавлять предметы, которые там уже есть, а также предмет, на котором висит роль.&#xD;
24.11.2014&#xD;
    *   [Движок] Исправлена работа инструкции "Переместить предмет", которая перемещала предмет в никуда.&#xD;
    241891 [Замечание #3] Парсер: берётся первый подошедший синоним без учёта, что он не верный&#xD;
    *   [Парсер] Теперь берётся только любой из самых подошедших (по длине) синонимов.&#xD;
    *   [Парсер] Теперь слово объекта (предмета) берётся, если только оно полность подошло, а не частично.&#xD;
&#xD;
-------------------------------------------------&#xD;
Прототип 10 выпуск 5 правка 3 (Хоббит, глава 3)&#xD;
-------------------------------------------------&#xD;
01.12.2013&#xD;
    *   Исправлена ошибка, из-за которой Движок не видел предметы в контейнере, который находился на любом уровне в инвентаре.&#xD;
    *   Исправлена опечатка при выводе списка предметов на поверхности и в контейнере.&#xD;
    +   Оптимизация стандартной библиотеки.&#xD;
    +   Добавлено стандартное действие "закрыть &lt;предмет&gt;", закрывающее открываемые (роль) открытые предметы.&#xD;
    ~   Перенос проверки доступности предметов из Парсера в Движок.&#xD;
02.12.2013&#xD;
    *   Исправления в стандартной библиотеке "Глаголы".&#xD;
11.12.2013:&#xD;
    +   Добавлен признак "тяжёлый". Тяжёлые предметы запрещено брать ("взять" и "взять всё").&#xD;
    +   Запрещено команде "взять всё" брать закреплённые предметы.&#xD;
    *   Исправлена ошибка парсера, приводившая к тому, что на слишком длинные команды давались неадекватные ответы.&#xD;
15.01.2014:&#xD;
    +   Инструкция "Бросить кость" с диапазоном броска (от и до) и именем переменной, куда сохранить результат.&#xD;
&#xD;
-------------------------------------------------&#xD;
Прототип 10 выпуск 5 правка 2 (Хоббит, глава 2)&#xD;
-------------------------------------------------&#xD;
29.11.2013&#xD;
    +   Экспорт зашифрованной истории в Редакторе.&#xD;
    +   Поддержка загрузки зашифрованной истории в Плеере.&#xD;
    ~   Из диалога открытия истории в Плеере убран фильтр "Все файлы".&#xD;
30.11.2013&#xD;
    ~   Из всех диалогов открытия и сохранения убрано расширение .xml.&#xD;
    ~   Файлам историй изменены расширения на .ifml.&#xD;
    +   Добавлен запрет на открытие шифрованных файлов в Редакторе.&#xD;
    +   Добавлена защита от загрузки сохранений игры от других историй.&#xD;
&#xD;
-------------------------------------------------&#xD;
Прототип 10 выпуск 5 правка 1 (Хоббит, глава 1)&#xD;
-------------------------------------------------&#xD;
28.11.2013&#xD;
    +   Некоторые улучшения в стандартной библиотеке "Глаголы" (verbs.xml).&#xD;
    ~   В заголовке Редактора вместо пути к файлу истории теперь только имя файла.&#xD;
    ~   В некоторых ответах парсера винительный падеж заменён на родительный как более правильный по грамматике.&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 5 (Хоббит)&#xD;
---------------------------------------&#xD;
18.11.2013:&#xD;
    ~	Улучшение установки обратной связи Слово - Предмет.&#xD;
    +	Начало работ по сохраненнию игры: главное меню, сохраняются глобальные и системные параменные, инвентарий, предметы в локациях.&#xD;
19.11.2013:&#xD;
    +   Продолжение работ по сохранению игры: восстановление предметов в локациях.&#xD;
23.11.2013:&#xD;
    +   Продолжение работ по сохранению игры: добавлено загрузка игры в меню; игра загружается.&#xD;
        Но пока нельзя загружать сохранение от другой игры - получите ошибку. В дальнейшем будет стоять запрет.&#xD;
24.11.2013:&#xD;
    +   Завершены работы по сохранению игры: сохранение и восстановление предметов в предметах (в свойствах ролей).&#xD;
    ~   Заменены иконки в диалогах сохранения и загрузки на более отличимые.&#xD;
    *   Исправлена ошибка с сохранением инвентаря.&#xD;
    +   Отладочный вывод выражения теперь пишет тип данных по-русски.&#xD;
    *   Исправлена ошибка, из-за которой не все слова для предмета прогружались.&#xD;
    ~   Улучшена внутренняя структура фреймворка сохранения игры.&#xD;
    *   Исправлена ошибка, при которой запуск истории из Редактора убирал пометку о том, что история не сохранена.&#xD;
25.11.2013:&#xD;
    +   В заголовке окна Редактора теперь выводится путь и имя загруженного файла истории.&#xD;
    *   Исправлена ошибка при загрузке предметов, приводившая к их дублированию.&#xD;
    *   В инсталлятор добавлено создание папок Games и Saved Games.&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4 правка 5&#xD;
---------------------------------------&#xD;
21.11.2013:&#xD;
    +   Улучшен парсер: теперь он максимально полно пытается подобрать синонимы и ругается, если часть синонима не подошло;&#xD;
        также при ошибке при равных  шаблонах-кандидатах выбирается случайный для выдачи разных ответов/предложений.&#xD;
    ~   Если фраза короче синонима, то парсер выдаёт сообщение "Команду не совсем понял, прошу уточнить.".&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4 правка 4&#xD;
---------------------------------------&#xD;
20.10.2013:&#xD;
    *   Исправлена ошибка в команде "взять всё".&#xD;
    *   Убран забытый перехват на локации в "Спелеологе".&#xD;
23.10.2013:&#xD;
    ifml2-210765 Поддержка навешивания ролей в Редакторе&#xD;
    *   Исправлена ошибка с неправильным родом в диалоге удаления объекта ("Вы действительно хотите удалить ЭТОТ локацию?").&#xD;
    ~   Рефакторинг.&#xD;
28.10.2013:&#xD;
    +   Улучшен скроллинг в Плеере. Теперь при вводе команды лог скроллится на команду, а не в конец. А если скроллбар&#xD;
        находится выше низа, то показывается панелька со стрелкой "ДАЛЕЕ".&#xD;
31.10.2013:&#xD;
    +   В Плеере теперь при нажатии Enter в пустой строке ввода, если в лог на в самом низу, он перематывается на страницу ниже.&#xD;
    *   Убраны неприятные мигания при проматывании лога при вводе команды.&#xD;
    ~   Убрана панель "ДАЛЕЕ", показывавшая, что лог не в самом низу, и ниже ещё есть текст.&#xD;
    !   Также не работает скроллинг, если Плеер запущен из редактора. Но есть обходной путь: надо сначала кликнуть по логу, потом снова&#xD;
        по строке ввода - тогда лог заработает.&#xD;
02.11.2013:&#xD;
    *   Исправлен баг, когда после удаления локации и создания новой локации с тем же именем у неё генерировался ИД со следующим&#xD;
        числом (Лок1).&#xD;
04.11.2013:&#xD;
    *   Ответ при взятии типа "Кровать надёжно закреплён." заменён на "Прикреплено надёжно."&#xD;
    ~   При описании локации при перечислении предметов вместо "Здесь же" выводится "Здесь".&#xD;
    ~   Когда введена неполная команда ("взять" без предмета), и парсер задаёт доп. вопрос "взять что?", "что" и подобные слова заменены&#xD;
        на "кто (что)".&#xD;
    *   Текст теперь должен выделяться. Но при вводе команды может дёргаться.&#xD;
09.11.2013:&#xD;
    *   Исправлена проблема с невозможностью выделить текст в логе игры.&#xD;
    *   Исправлена ошибка с пропаданием предметов при перемещении.&#xD;
    *   Теперь команда "заново!" работает и в случае, если игра запущена в Плеера из Редактора.&#xD;
    +   В заголовке Плеера теперь показывается имя файла или строка "запущен из Редактора".&#xD;
10.11.2013:&#xD;
    *   Исправлен фокус при запуске Плеера - теперь он на поле ввода.&#xD;
11.11.2013:&#xD;
    +   Теперь можно редактировать информацио об истории: название, автора, версию и описание в настройках истории.&#xD;
    +   Добавлено главное меню "История", добавлен пункты "Начать новую историю...", "Начать сначала...", "Выйти...".&#xD;
    *   Временно решена проблема скролинга при запуске Плеера из Редактора - скроллбар просто проматывается наверх.&#xD;
16.11.2013:&#xD;
    ~   При выборе пункта главного меню "Начать сначала..." эмулируется ввод команды - эхо, прокрутка.&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4 правка 3&#xD;
---------------------------------------&#xD;
14.10.2013:&#xD;
    ifml2-214649 Редактирование инструкции "Перейти в локацию"&#xD;
    +   Теперь можно редактировать инструкцию "Перейти в локацию"&#xD;
    ifml2-189273 Замена инструкции "Взять предмет" на "Перемещение предмета"&#xD;
    +   Теперь можно редактировать инструкцию "Переместить предмет"&#xD;
*   Исправлено несколько багов (см. версию в трекере)&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4 правка 2&#xD;
---------------------------------------&#xD;
14.09.2013:&#xD;
    Bug #214756: Запретить сохранять локации и предметы без ИД&#xD;
    +   А также запрещено сохранять локаци и предметы с неуникальными идентификаторами.&#xD;
30.09.2013:&#xD;
    Feature #11946: Переменные и их проверки&#xD;
    +   Теперь можно редактировать глобальные переменные (в настройках истории) и менять их значения в инструкциях&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4 правка 1&#xD;
---------------------------------------&#xD;
28.08.2013:&#xD;
    Bug #210289: Возможно создать предмет без словарной записи&#xD;
    Bug #211064: Необходимо запретить добавлять локации и предметы без имени&#xD;
05.09.2013:&#xD;
    ifml2-13594 Перехваты действий&#xD;
    +   Ошибки в Редакторе теперь выводятся в удобное окно&#xD;
    +   Косметика&#xD;
08.09.2013:&#xD;
    ifml2-13594 Перехваты действий&#xD;
    +   Поддержка локационных перехватов действий в Движке.&#xD;
    !   Перехваты теперь работают следующим образом:&#xD;
        Если есть актуальные (подходящие под команду игрока) перехваты типа ВМЕСТО, то срабатывают они - сначала у предметов, затем&#xD;
        у локации, после обработка завершается.&#xD;
        Если же перехватов типа ВМЕСТО нет, то сначала срабатывают перехваты-ДО (предметы, потом локации), далее выполняется действие,&#xD;
        далее перехваты-ПОСЛЕ.&#xD;
&#xD;
---------------------------------------&#xD;
Прототип 10 выпуск 4&#xD;
---------------------------------------&#xD;
11.03.2013:&#xD;
*   Исправлен неверный путь к игре в единственном тесте.&#xD;
+   Редактирование инструкции "Проверка условия".&#xD;
*   Исправлены некоторые инструкции.&#xD;
~   В редактор предмета возвращён идентификатор, т.к. он нужен в инструкциях (в выражениях).&#xD;
+   Теперь, если фраза слишком длинная, парсер отвечает так: "Я бы понял, если бы вы сказали "{0}", но я не понял вот эту часть&#xD;
    фразы: "{1}"."&#xD;
+   А в случае, когда фраза слишком короткая, и не хватает объектов, парсер кроме вопросительных слов в падежах (например, "Что?") также&#xD;
    пишет "(пишите ответ полностью)".&#xD;
+   В редактор перехвата добавлен предпросмотр списка инструкций, работает двойной щелчёк.&#xD;
!   Вообще, в Редакторе двойной щелчёк работает на всех списках подлежащих объектов.&#xD;
16.03.2013:&#xD;
~   Убрана поддержка старых не используемых инструкций.&#xD;
~   Рефакторинг редакторов инструкций.&#xD;
~   Общий рефакторинг.&#xD;
*   Исправлена ошибка, из-за которой редактируемые инструкции в списке по кнопке "Редактировать инструкции..." не сохранялись после&#xD;
    редактирования.&#xD;
17.03.2013:&#xD;
~   Рефакторинг всех редакторов.&#xD;
25.03.2013:&#xD;
+   Начата работа над редактором действий: созданы 2 вкладки ("Действия истории", "Действия в библиотеках"), в первой загружается список&#xD;
    действий.&#xD;
01.04.2013:&#xD;
+   Продолжена работа над редактором действий: вызывается редактор действия, он частично загружается.&#xD;
+   Внедрена сборка exe-wrapper'ов с помощью JSmooth.&#xD;
02.04.2013:&#xD;
+   Добавлен список шаблонов в редактор действия, кнопки пока не работают.&#xD;
15.04.2013:&#xD;
*   Исправлена старая команда "бросить" - она дублировала предметы.&#xD;
16.04.2013:&#xD;
*   Правильное отображение шаблонов в редакторе действий.&#xD;
+   Вторая вкладка действий переименована в "Все используемые действия", на неё грузятся все действия истории.&#xD;
21.04.2013:&#xD;
+   Доработки редакторов: действий, шаблонов, элементов шаблона.&#xD;
07.05.2013:&#xD;
*   Вызываемая процедура в редакторе действия теперь загружается правильно.&#xD;
+   В редакторе шаблона теперь работают кнопки вверх/вниз, а также "Редактировать" и "Удалить".&#xD;
+   Теперь можно редактировать литеральный элемент шаблона (состоит из синонимов).&#xD;
22.06.2013:&#xD;
*   Исправлена ошибка при создании нового действия.&#xD;
30.07.2013:&#xD;
    ifml2-29955 Редактирование действий:&#xD;
    +   работы по задаче&#xD;
22.08.2013:&#xD;
    ifml2-29955 Редактирование действий:&#xD;
    +   начало создания вкладки ограничений&#xD;
    +   "ОК" в редакторе действия применяет изменения&#xD;
    +   "ОК" в редакторе объектного элемента шаблона применяет измененения&#xD;
    +   там же: проверка, если стоит галочка, то должен быть выбран параметр&#xD;
    +   шаблоны теперь выглядят информативнее&#xD;
25.08.2013:&#xD;
    ifml2-29955 Редактирование действий:&#xD;
    +   Завершена вкладка ограничений&#xD;
    *   Исправлена ошибка, когда не всегда сработывал Escape в окнах&#xD;
    *   Теперь нельзя создавать действия с пустыми именами и шаблоны без элементов&#xD;
    ~   Все кнопки "Изменить..." переименованы в "Редактировать..."&#xD;
    *   Не сохранялись ограничения</comment>
    <comment language="en" />
  </entry>
</updateDescriptor>
